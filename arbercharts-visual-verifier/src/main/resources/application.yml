# ArberCharts Visual Verifier Configuration
# License: MIT License (binaries only) - See META-INF/LICENSE
# Copyright (c) 2024-2026 Arber Gashi

server:
  port: ${ARBERCHARTS_VERIFIER_PORT:8080}
  servlet:
    context-path: /

# Application Info
info:
  app:
    name: ArberCharts Visual Verifier
    version: 2.0.0
    description: Server-side testing platform for 157 ArberCharts renderers
    license: MIT License (binaries)
    contact: gashi@pro-business.ch

# ArberCharts Verifier Settings
arbercharts:
  verifier:
    # Snapshot Management
    snapshot:
      directory: ${user.home}/.arbercharts/snapshots
      format: png
      compression: 9
      retention-days: 30

    # Visual Comparison
    comparison:
      tolerance: 0.01  # 1% pixel difference allowed
      generateDiff: true
      diffColor: 16711680  # Red (0xFF0000)

    # Performance Benchmarking
    benchmark:
      warmup: 100
      iterations: 1000
      enableGc: false  # Keep Zero-GC
      threads: 1

    # Rendering Defaults
    rendering:
      defaultWidth: 800
      defaultHeight: 600
      defaultTheme: light
      maxWidth: 4096
      maxHeight: 4096
      maxFileSize: 10485760  # 10MB

# Logging
logging:
  level:
    root: INFO
    com.arbergashi: DEBUG
    com.arbergashi.charts.visualverifier: DEBUG
    org.springframework: INFO
    org.springframework.web: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

# Actuator Endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,charts,prometheus
      base-path: /actuator
  endpoint:
    health:
      show-details: always
  metrics:
    export:
      prometheus:
        enabled: true

# Spring Boot
spring:
  application:
    name: arbercharts-visual-verifier
  banner:
    location: classpath:banner.txt

  # Jackson JSON
  jackson:
    default-property-inclusion: non_null
    serialization:
      indent-output: true

  # Max Upload Size
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

# Springdoc OpenAPI
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true

