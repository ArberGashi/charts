<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="fragments/layout :: head('ArberCharts Families')"></head>
  <body data-theme="dark">
    <header th:replace="fragments/layout :: header('families')"></header>
    <main class="page" data-showcase-sections="true">
      <section class="hero showcase-section">
        <div>
          <h1>Renderer families</h1>
          <p>Explore renderer families across finance, medical diagnostics, circular analytics, and network flow. Each family is curated with focused previews and is powered by the same ArberCharts core.</p>
        </div>
        <div class="card">
          <h3>Quick filter</h3>
          <div class="grid">
            <button class="btn ghost is-active" type="button" data-filter="all">All</button>
            <button class="btn ghost" type="button" data-filter="financial">Financial</button>
            <button class="btn ghost" type="button" data-filter="medical">Medical</button>
            <button class="btn ghost" type="button" data-filter="engineering">Engineering</button>
            <button class="btn ghost" type="button" data-filter="circular">Circular</button>
            <button class="btn ghost" type="button" data-filter="network">Network</button>
            <button class="btn ghost" type="button" data-filter="spatial" th:if="${vectorAvailable}">Spatial 3D</button>
          </div>
        </div>
      </section>

      <section class="section" th:if="${!vectorAvailable}">
        <div class="card">
          <h3>Vector API required for spatial renderers</h3>
          <p>Enable the JDK Vector API to unlock spatial charts in this gallery.</p>
          <div class="code-block">JAVA_TOOL_OPTIONS="--add-modules jdk.incubator.vector" mvn -pl arbercharts-visual-verifier spring-boot:run</div>
        </div>
      </section>

      <div th:each="group : ${families}">
        <section class="section showcase-section">
          <h2 th:text="${group.name}">Family</h2>
          <p th:if="${group.description}" th:text="${group.description}" style="color: var(--muted); margin-top:-8px;"></p>
          <div class="grid">
            <div class="card">
              <h3>Highlights</h3>
              <div class="pill" th:text="${group.kpi}">KPI</div>
              <div class="kpi-grid" th:if="${group.kpis}">
                <div class="kpi-card" th:each="kpi : ${group.kpis}">
                  <span th:text="${kpi.label}">Label</span>
                  <strong th:text="${kpi.value}">Value</strong>
                </div>
              </div>
              <ul class="legend" th:if="${group.legend}">
                <li th:each="item : ${group.legend}">
                  <span class="legend-dot" th:classappend="${item.tone}"></span>
                  <span th:text="${item.label}">Legend</span>
                </li>
              </ul>
            </div>
          </div>
          <div class="featured-grid" th:if="${group.featured}">
            <div class="card featured-card" th:each="chart : ${group.featured}" th:attr="data-card-domain=${group.key}">
              <div class="chart-meta">
                <h3 th:text="${chart.label}">Chart</h3>
                <span class="badge">featured</span>
              </div>
              <img th:attr="data-type=${chart.type}, data-domain=${chart.domain}, data-width=${chart.width}, data-height=${chart.height}" alt="chart" />
              <ul th:if="${chart.callouts}">
                <li th:each="callout : ${chart.callouts}" th:text="${callout}">Callout</li>
              </ul>
            </div>
          </div>
          <div class="grid wide chart-grid family-grid">
            <div class="card" th:each="chart, iterStat : ${group.charts}" th:attr="data-card-domain=${group.key}">
              <div class="chart-meta">
                <h3 th:text="${chart.label}">Chart</h3>
                <span class="badge" th:text="${group.key}">family</span>
              </div>
              <img th:attr="data-type=${chart.type}, data-domain=${chart.domain}" data-width="920" data-height="520" alt="chart" />
            </div>
          </div>
        </section>
      </div>
    </main>
    <footer th:replace="fragments/layout :: footer"></footer>
    <div th:replace="fragments/layout :: scripts"></div>
  </body>
</html>
